from aiogram import Router
from aiogram.types import CallbackQuery
from app.core.keyboard_templates import KeyboardTemplates

router = Router()


@router.callback_query(lambda c: c.data == "roo_competencies")
async def handle_roo_competencies(callback: CallbackQuery):
    """Обработчик для компетенций РОО"""
    competencies_text = """
Компетенции РОО, которые важны для работы и которые нужно развивать, можно разделить на 3 типа:

1. КОРПОРАТИВНЫЕ КОМПЕТЕНЦИИ:
• Уважение к сотрудникам и клиентам - способность понимать и удовлетворять потребности клиентов
• Нацеленность на результат - способность достигать целей и демонстрировать высокий уровень качества работы
• Постоянное обучение и развитие - готовность совершенствовать себя и свою работу
• Командность - способность успешно работать с другими сотрудниками компании, достигая согласованных действий для реализации целей компании
• Ответственность - способность адекватно отвечать за то, что было ему поручено или что он взял на себя
• Способность к трансформациям - готовность быстро, открыто и гибко изменять свой образ жизни и профессиональную деятельность в ответ на изменения окружающей среды

2. ТЕХНИЧЕСКИЕ КОМПЕТЕНЦИИ:
• Работа с ценообразованием:
  - Знание качественной категоризации и ликвидности автомобилей
  - Знание элементов финального ценообразования (инвестиции, состояние, рынок, прогнозируемая прибыльность, количество ДТП, история)
  - Умение управлять консигнационным складом
  - Умение управлять "Склад 45+" - своевременная работа со складским ценообразованием
  - Навык контроля качества звонков, регулярности взаимодействия с консигнантом, состояния консигнационных автомобилей

• Работа с показателями и отчетностью:
  - Умение анализировать показатели эффективности РОО и выявлять зоны внимания
  - Умение прогнозировать и планировать операционные показатели РОО на будущие периоды
  - Умение формировать отчетность РОО и вести табели

• Работа со смежными подразделениями:
  - Умение анализировать ключевые показатели эффективности смежных подразделений
  - Знание кросс-функциональных задач с Отделом продаж, Техническим отделом и другими подразделениями

3. УПРАВЛЕНЧЕСКИЕ КОМПЕТЕНЦИИ:
• Развитие сотрудников:
  - Умение проводить встречи один-на-один с С30
  - Умение создавать Индивидуальные планы развития (ИПР) для старших экспертов по оценке и экспертов по оценке
  - Умение оценивать компетенции кандидатов на должность старшего эксперта по оценке

• Влияние и коммуникация:
  - Готовность к сотрудничеству в команде менеджеров из смежных подразделений для достижения результатов
  - Знание последовательности работы при возникновении жалобы

• Лидерство:
  - Готовность брать на себя ответственность за результаты других
  - Умение мотивировать людей и координировать их работу для достижения целей

• Стратегическое мышление:
  - Знание целевых показателей компании на рынке и ее позиции относительно конкурентов
  - Умение прогнозировать доходную и расходную части РОО
  - Знание целевых показателей по стоимости склада
  - Знание инструментов улучшения ключевых показателей эффективности
  - Знание инструментов управления расходами
"""
    keyboard_templates = KeyboardTemplates()
    keyboard = await keyboard_templates.get_cancel_keyboard()
    await callback.message.answer(competencies_text, reply_markup=keyboard)
    await callback.answer()
